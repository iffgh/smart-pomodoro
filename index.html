<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🍅 Умный Pomodoro Таймер</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/achievements.css">
    <link rel="stylesheet" href="css/themes.css">
</head>
<body class="gray-theme">
    <div class="container">
        <header>
            <h1>🍅 Умный Pomodoro</h1>
            <p class="subtitle">Сфокусируйтесь и восстановитесь с умными практиками</p>
        </header>
        
        <div class="settings">
            <h3 class="section-title">⚙️ Настройки времени</h3>
            <div class="time-inputs">
                <div class="time-input">
                    <label>🕐 Работа (мин)</label>
                    <input type="number" id="workTime" min="1" max="120" value="25">
                </div>
                <div class="time-input">
                    <label>🔄 Отдых (сек)</label>
                    <input type="number" id="breakTime" min="1" max="600" value="30">
                </div>
            </div>
            
            <button class="settings-menu-btn" onclick="openSettings()">
                ⚙️ Настройки приложения
            </button>
            
            <button class="settings-btn" onclick="pomodoro.applySettings()">💾 Применить настройки</button>
        </div>
        
        <div id="timerSection" class="timer-section work-active">
            <div id="sessionInfo">💼 Сессия 1 • Сфокусируйтесь!</div>
            <div id="practiceInfo"></div>
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="progress-container">
                <div id="progress" class="progress-fill progress-work" style="width: 100%"></div>
            </div>
            
            <div id="currentStepInfo" class="current-step-info"></div>
            
            <div class="mini-stats">
                <div class="mini-stat">
                    <div class="mini-stat-value" id="miniSessionsCompleted">0</div>
                    <div class="mini-stat-label">💼 Сессий</div>
                </div>
                <div class="mini-stat">
                    <div class="mini-stat-value" id="miniTotalTime">0:00</div>
                    <div class="mini-stat-label">⏱️ Время</div>
                </div>
                <div class="mini-stat">
                    <div class="mini-stat-value" id="miniTechniquesUsed">0</div>
                    <div class="mini-stat-label">🌿 Практик</div>
                </div>
            </div>
            
            <div id="stepInstruction" class="step-instruction">Нажмите "Старт" для начала работы</div>
            <div id="nextStepPreview" class="next-step-preview" style="display: none;"></div>
            
            <div class="controls">
                <button id="mainButton" class="primary-btn" onclick="pomodoro.toggleTimer()"><span>▶</span> Старт</button>
                <button class="secondary-btn" onclick="pomodoro.resetTimer()"><span>↺</span> Сброс</button>
            </div>
        </div>
        
        <div class="techniques-section">
            <h3 class="section-title">🌿 Практики восстановления</h3>
            <div id="categoryDescription" class="category-description">
                <strong>🌬️ Дыхательные практики:</strong> Техники управления дыханием для снятия стресса, улучшения концентрации и восстановления энергетического баланса.
            </div>
            <div class="auto-practice-info">После завершения работы автоматически начнется практика восстановления</div>
            <div class="techniques-categories">
                <div class="category-btn active" onclick="pomodoro.showCategory('breathing')">🌬️ Дыхание</div>
                <div class="category-btn" onclick="pomodoro.showCategory('physical')">💪 Физические</div>
                <div class="category-btn" onclick="pomodoro.showCategory('vision')">👀 Зрение</div>
                <div class="category-btn" onclick="pomodoro.showCategory('cognitive')">🧠 Когнитивные</div>
                <div class="category-btn" onclick="pomodoro.showCategory('energy')">⚡ Энергия</div>
            </div>
            <div class="techniques-grid" id="techniquesGrid"></div>
        </div>
        
        <div id="practiceSteps" class="practice-steps">
            <h3>📋 Шаги выполнения</h3>
            <ul id="stepList" class="step-list"></ul>
        </div>

        <div class="sessions-history">
            <div class="history-header" onclick="pomodoro.toggleHistory()">
                <h3 class="section-title">📊 История сессий</h3>
                <div class="history-toggle">▼</div>
            </div>
            <div class="history-content" id="historyContent">
                <div class="auto-practice-info">Ваши завершенные рабочие периоды и практики восстановления</div>
                <ul id="historyList" class="history-list"></ul>
            </div>
        </div>
    </div>

    <div class="notification" id="notification">
        <span id="notificationIcon">🔔</span>
        <span id="notificationText">Уведомление</span>
    </div>

    <div id="settingsMenu" class="settings-menu">
        <div class="menu-overlay" onclick="closeSettings()"></div>
        <div class="menu-content">
            <div class="menu-header">
                <h2>⚙️ Настройки</h2>
                <button class="menu-close" onclick="closeSettings()">×</button>
            </div>
            
            <div class="menu-sections">
                <div class="menu-section">
                    <div class="section-header">
                        <div class="section-icon">🔊</div>
                        <h3>Звуковые уведомления</h3>
                    </div>
                    <div class="section-content">
                        <label class="checkbox-container">
                            <input type="checkbox" id="soundEnabled" checked>
                            <span class="checkmark"></span>
                            <span class="checkbox-label">Включить звуки</span>
                        </label>
                        <p class="section-description">Оповещения о завершении работы и перерывов</p>
                    </div>
                </div>
                
                <div class="menu-section">
                    <div class="section-header">
                        <div class="section-icon">🎨</div>
                        <h3>Внешний вид</h3>
                    </div>
                    <div class="section-content">
                        <div class="theme-options">
                            <div class="theme-option active" onclick="changeTheme('gray')" data-theme="gray">
                                <div class="theme-preview gray-theme"></div>
                                <span class="theme-name">Серая</span>
                            </div>
                            <div class="theme-option" onclick="changeTheme('dark')" data-theme="dark">
                                <div class="theme-preview dark-theme"></div>
                                <span class="theme-name">Темная</span>
                            </div>
                            <div class="theme-option" onclick="changeTheme('light')" data-theme="light">
                                <div class="theme-preview light-theme"></div>
                                <span class="theme-name">Светлая</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="menu-footer">
                <button class="menu-btn secondary" onclick="resetSettings()">
                    <span>🔄</span>
                    Сбросить
                </button>
                <button class="menu-btn primary" onclick="saveSettings()">
                    <span>💾</span>
                    Сохранить
                </button>
            </div>
        </div>
    </div>

    <script src="js/simple-themes.js"></script>
    <script src="js/config.js"></script>
    <script src="js/custom.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/practices.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/timer.js"></script>
    <script src="js/main.js"></script>
</body>
</html>